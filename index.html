<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Happy Birthday!!! :)</title>
  <link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400" rel="stylesheet">
  <link rel="shortcut icon" type="image/png" href="img/cat.png" />
  <link rel="stylesheet" href="style/style.css">
</head>

<body>
  <!-- 嵌入背景音乐 -->
   <!--
  <div style="display: flex; justify-content: center; margin-top: 20px;">
    
    <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="300" height="80"
            src="//music.163.com/outchain/player?type=2&id=233947&auto=1&height=66"></iframe>
    
    <iframe allow="autoplay *; encrypted-media *; fullscreen *; clipboard-write" frameborder="0" height="175" style="width:100%;max-width:660px;overflow:hidden;border-radius:10px;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/cn/album/%E6%88%91%E7%9A%84%E7%A7%98%E5%AF%86/666994246?i=666994935"></iframe>
  </div>
  -->
  <audio id="backgroundMusic" autoplay loop>
    <source src="secret-2.mp3" type="audio/mpeg">
  </audio>

 <!-- 页面加载遮罩层 -->
 <div id="loadingScreen" style="
 position: fixed;
 top: 0;
 left: 0;
 width: 100vw;
 height: 100vh;
 background-color: #ffffff;
 display: flex;
 justify-content: center;
 align-items: center;
 font-size: 24px;
 z-index: 9999;">
 <button id="startButton" style="padding: 10px 20px; font-size: 18px;">
   Click to Start
 </button>
</div>


  <!-- 主页面内容 -->
  <div id="mainContent" style="display: none;">

  <div class="container">
    <div class="one">
      <h1 class="one">
        <span id="greeting" data-node-name="greeting">Hey</span> 
        <br>
        <span data-node-name="name">Lydia</span>
      </h1>
      <p class="two" data-node-name="greetingText">I really like your name btw!</p>
    </div>
    <div class="three">
      <p data-node-name="text1">It's your birthday!!! :D</p>
      <p data-node-name="text1-1">It's your birthday!!! :D</p>
    </div>
    <div class="four">
      <div class="text-box">
        <p class="hbd-chatbox" data-node-name="textInChatBox">Happy birthday to you!! Yeee! Many many happy blah...</p>
        <p class="fake-btn" data-node-name="sendButtonLabel">Send</p>
      </div>
    </div>
    <div class="five">
      <p class="idea-1" data-node-name="text2">That's what I was going to do.</p>
      <p class="idea-2" data-node-name="text3">But then I stopped.</p>
      <br>
      <br>
      <p class="idea-2" data-node-name="text3-1">一粒粒小雨滴</p>
      <p class="idea-3">
        <span data-node-name="text4">I realised, I wanted to do something</span>
        <br>
        <br>
        <strong data-node-name="text4Adjective">special</strong>.</p>
      <p class="idea-4" data-node-name="text5Entry">Because,</p>
      <p class="idea-5">
        <span data-node-name="text5Content">You are Special</span>
        <span class="smiley" data-node-name="smiley">:)</span>
      </p>
      <p class="idea-6">
        <span data-node-name="bigTextPart1">S</span>
        <span data-node-name="bigTextPart2">O</span>
      </p>
    </div>
    <div class="six">
      <img src="img/hat.svg" alt="" class="hat">
      <img src="img/lydia2.png" alt="" class="lydia-dp" data-node-name="imagePath">
      <div class="wish">
        <h3 class="wish-hbd" data-node-name="wishHeading">Happy Birthday!</h3>
        <h5 data-node-name="wishText">May the js.prototypes always be with you! ;)</h5>
        <h5 data-node-name="wishText1">May the js.prototypes always be with you! ;)</h5>
      </div>
    </div>
    <div class="seven">
      <div class="baloons">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
      </div>
    </div>
    <div class="eight">
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
    </div>
    <div class="nine">
      <p data-node-name="outroText" style="color: pink;">Okay, now come back and tell me if you liked it.</p>
      <p id="replay" data-node-name="replayText">Or click, if you want to watch it again.</p>
      <p id="replay" data-node-name="replayText2">亲爱的小喵喵</p>
      <p class="last-smile" data-node-name="outroSmiley" style="color: red;">:)</p>
      <br>
      <br>
      <p id="replay" data-node-name="replayText1">2024-11-12</p>
    </div>
  </div>
  </div>
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
<script type="application/javascript" src="script/main.js"></script>
<script>
  window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
</script>
<script defer src="/_vercel/insights/script.js"></script>


<script>
  // 等待页面加载完毕
  window.addEventListener('DOMContentLoaded', function() {
    // 获取音乐和 greeting 元素
    const audio = document.getElementById('backgroundMusic');
    const greetingElement = document.getElementById('greeting');

    // 确保元素存在
    if (greetingElement) {
      // 使用 IntersectionObserver 观察 greeting 元素是否出现在视口中
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) { // 当 greeting 出现时
            audio.play(); // 播放音乐
            // 不停止观察，保持播放
          }
        });
      }, { threshold: 1.0 }); // 设置阈值为 1.0，确保元素完全可见时才触发

      // 开始观察 greeting 元素
      observer.observe(greetingElement);
    } else {
      console.error("Element with ID 'greeting' not found.");
    }
  });
</script>

<script>
  window.addEventListener('DOMContentLoaded', function() {
    // 获取音频、按钮和内容元素
    const audio = document.getElementById('backgroundMusic');
    const loadingScreen = document.getElementById('loadingScreen');
    const mainContent = document.getElementById('mainContent');
    const startButton = document.getElementById('startButton');

    // 用户点击按钮后播放音频并显示主页面内容
    startButton.addEventListener('click', function() {
      audio.play()  // 尝试播放音频
        .then(() => {
          // 隐藏加载遮罩层并显示主页面内容
          loadingScreen.style.display = 'none';
          mainContent.style.display = 'block';
        })
        .catch(error => {
          console.error("音频播放失败：", error);
          alert("音频播放失败，请检查您的浏览器设置。");
        });
    });
    
    // 预加载音频
    audio.load();
  });
</script>

</html>